# 《骨肿瘤手术规划项目》

- `2024-10-16` 整理一些关于骨肿瘤剔除相关的工作。

## 已完成工作

- 标志物识别：https://github.com/GGN-2015/dcm_ball_detector
  - `2024-10-17` 完成了根据距离对匹配球顺序的功能

## 计划中的工作

- 对识别了标志物的 CT 图像进行坐标变幻，将坐标系变换到标志物坐标系
  - 注意事项，CT 值不等于图像值：https://www.cnblogs.com/luofeel/p/10078437.html
  - 后来发现切片的厚度会影响 CT 值，看来体素数据的不透光密度不是单位距离而是单位体素的，现在基本上已经解决了
- 关于 `dcm_ball_detector`：
  - 将来要打包成 pypi 的包
  - 还需要对球**中心的坐标**进行进一步的修正，在xyz 三个方向上都需要进行进一步修正，以提高距离的精度
    - 首先三个坐标在体素意义下，都不应当被理解为整数，但是现在我们就是这么搞的

- 关于骨肿瘤剔除过程的手术规划
  - 最优化函数，目前还在构思
  - 之前的凸连续化的做法
    - 我发现上凸只能实现与运算、下凸只能实现或运算，反过来会发生严重的松弛退化
    - 具体原因以后再想

